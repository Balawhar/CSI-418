DECLARE 
    NFOUND NUMBER;
BEGIN
    SELECT COUNT(*) INTO NFOUND FROM ALL_TABLES 
    WHERE TABLE_NAME = 'LOC_LOCATION_ATTRIBUTE' 
    AND OWNER = 'LOCDBA';
    IF NFOUND = 0 THEN
        BEGIN
            EXECUTE IMMEDIATE 'CREATE TABLE LOCDBA.LOC_LOCATION_ATTRIBUTE 
            (
                ATTRIBUTE_ID NUMBER(10) NOT NULL,
                CUSTOMER_ID NUMBER(10),
                LOCATION_MAIN_DATA_ID NUMBER(10),
                PREVIOUS_DEVICE VARCHAR(200),
                WORK_ADDRESS_DESC VARCHAR(200),
                SIMULATION_DESC VARCHAR(200),
                COMMENTS VARCHAR(255),
                POI_DESC VARCHAR(200),
                INTERNATIONAL_TRAVEL_DESC VARCHAR(200),
                CASES_DESC VARCHAR(200),
                ADDRESS_DESC VARCHAR(200),
                GROUP_DESC VARCHAR(200),
                LINKED_DEVICE VARCHAR(200),
                CREATION_DATE DATE DEFAULT SYSDATE,
                CREATED_BY NUMBER NOT NULL,
                UPDATE_DATE DATE,
                UPDATED_BY NUMBER
            ) TABLESPACE REF_DATA_MISC';
            
            EXECUTE IMMEDIATE 'ALTER TABLE LOCDBA.LOC_LOCATION_ATTRIBUTE 
                ADD CONSTRAINT PK_LOC_LOCATION_ATTRIBUTE PRIMARY KEY (ATTRIBUTE_ID)
                USING INDEX TABLESPACE REF_INDEX';                    
        END;
    END IF;
END;
/

GRANT REFERENCES ON LOCDBA.LOC_LOCATION_ATTRIBUTE TO PUBLIC;
