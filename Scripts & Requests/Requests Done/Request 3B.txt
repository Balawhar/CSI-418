 -- 15/03/2024 --

/*

OWNER	TABLE	COLUMN	DATA TYPE	DATA NULL
VLPDBA SDEDBA	REF_CUSTOMER_ASSOCIATION	CUSTOMER_NAME	varchar2(255 char)	Y

*/

DECLARE 
NFOUND NUMBER;
BEGIN
    SELECT COUNT(*) INTO NFOUND FROM ALL_TAB_COLUMNS 
    WHERE TABLE_NAME = 'REF_CUSTOMER_ASSOCIATION' 
    AND OWNER = 'SDEDBA' 
    AND COLUMN_NAME = 'CUSTOMER_NAME';
    IF NFOUND = 0 THEN
    EXECUTE IMMEDIATE 'ALTER TABLE SDEDBA.REF_CUSTOMER_ASSOCIATION ADD CUSTOMER_NAME VARCHAR2(255 CHAR)';
    END IF;
END;
/

DECLARE 
NFOUND NUMBER;
BEGIN
    SELECT COUNT(*) INTO NFOUND FROM ALL_TAB_COLUMNS 
    WHERE TABLE_NAME = 'REF_CUSTOMER_ASSOCIATION' 
    AND OWNER = 'VLPDBA' 
    AND COLUMN_NAME = 'CUSTOMER_NAME';
    IF NFOUND = 0 THEN
    EXECUTE IMMEDIATE 'ALTER TABLE VLPDBA.REF_CUSTOMER_ASSOCIATION ADD CUSTOMER_NAME VARCHAR2(255 CHAR)';
    END IF;
END;
/